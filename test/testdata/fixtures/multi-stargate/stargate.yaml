apiVersion: k8ssandra.io/v1alpha1
kind: Stargate
metadata:
  name: s1
spec:
  stargateContainerImage:
    registry: docker.io
    # Temporarily use a custom image that includes
    # https://github.com/stargate/stargate/pull/1300 until there is an updated, official
    # Stargate image with these changes.
    repository: jsanda/stargate-3_11
    tag: bc73a29a
  datacenterRef:
    name: dc1
  size: 3
  allowStargateOnDataNodes: true
  heapSize: 384Mi
  resources:
    limits:
      memory: 512Mi
  livenessProbe:
    initialDelaySeconds: 100
    periodSeconds: 10
    failureThreshold: 20
    successThreshold: 1
    timeoutSeconds: 20
  readinessProbe:
    initialDelaySeconds: 100
    periodSeconds: 10
    failureThreshold: 20
    successThreshold: 1
    timeoutSeconds: 20
  cassandraConfigMapRef:
    name: cassandra-config
